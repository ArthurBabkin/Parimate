# ML System Design Doc: Parimate

## 1. –ó–∞—á–µ–º –∏–¥–µ–º –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É –ø—Ä–æ–¥—É–∫—Ç–∞?

### –ë–∏–∑–Ω–µ—Å-—Ü–µ–ª—å  
–°–æ–∑–¥–∞—Ç—å –Ω–∞–¥—ë–∂–Ω—É—é –∏ –ø–æ–Ω—è—Ç–Ω—É—é —Å–∏—Å—Ç–µ–º—É –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∞—É–¥–∏–æ- –∏ –≤–∏–¥–µ–æ–∫–æ–Ω—Ç–µ–Ω—Ç–∞ —á–µ—Ä–µ–∑ Telegram-–±–æ—Ç–∞, –∏—Å–ø–æ–ª—å–∑—É—è ML –∏ –ø—Ä–∏–Ω—Ü–∏–ø—ã Human-Centered AI (HCAI).  
–û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏:
- –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ª–∏—á–Ω–æ—Å—Ç–∏, —Ä–µ—á–∏, –æ–±—Å—Ç–∞–Ω–æ–≤–∫–∏.
- –í—ã—è–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ —Ñ–µ–π–∫–æ–≤ (–≤ —Ç.—á. –¥–∏–ø—Ñ–µ–π–∫–æ–≤).
- –û–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Ü–∏—Ñ—Ä–æ–≤–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.

### –ü—Ä–æ–±–ª–µ–º–∞—Ç–∏–∫–∞
- –¢—Ä–µ–±—É–µ—Ç—Å—è —É—á–∞—Å—Ç–∏–µ —á–µ–ª–æ–≤–µ–∫–∞ –∏ —Ä–µ—Å—É—Ä—Å—ã.
- –£—á–∞—Å—Ç–∏–ª–∏—Å—å —Å–ª—É—á–∞–∏ –¥–∏–ø—Ñ–µ–π–∫–æ–≤ –∏ –ø–æ–¥–¥–µ–ª–æ–∫.
- –ù–µ—Ç —É–¥–æ–±–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–µ–¥–∏–∞.

### ML-–ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞
- –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –ª–∏—Ü (FaceNet), —Ä–µ—á–∏ (Whisper).
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (ffprobe, EXIF).
- –û–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —á–µ—Ä–µ–∑ Telegram.

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞
- ‚â• 85% —Ç–æ—á–Ω–æ—Å—Ç–∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –ª–∏—Ü –∏ —Ä–µ—á–∏.
- –û—Ç–≤–µ—Ç < 10 —Å–µ–∫—É–Ω–¥.
- –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏
- –û—Ç–ø—Ä–∞–≤–∫–∞ –º–µ–¥–∏–∞ –¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏.
- –ë–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π (—á–µ—Ä–µ–∑ Telegram).
- –î–æ–≤–µ—Ä–∏–µ –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º –∑–∞ —Å—á—ë—Ç XAI.

---

## 2. –ë–∏–∑–Ω–µ—Å-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- REST API –∏ Telegram-–±–æ—Ç.
- –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –ª–∏—Ü, —Ä–µ—á–∏, –≤–∏–¥–µ–æ–æ–±—Ä–∞–±–æ—Ç–∫–∞.
- Docker, PostgreSQL, MinIO.

### ML-–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- Docker-–∏–Ω—Ñ–µ—Ä–µ–Ω—Å (–ª–∏—Ü–æ + —Ä–µ—á—å).
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ—Å—Ç—å.
- –†–∞–±–æ—Ç–∞ –±–µ–∑ GPU, —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è.

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–∏–ª–æ—Ç–∞
- –û–¥–Ω–∞ –ø–µ—Ä—Å–æ–Ω–∞, —Ñ—Ä–∞–∑–∞ –∏ —Å—Ü–µ–Ω–∞—Ä–∏–π.
- –ë–µ–∑ –≤–Ω–µ—à–Ω–µ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.
- –ù–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ liveness.

---

## 3. –°–∫–æ—É–ø –ø—Ä–æ–µ–∫—Ç–∞ (—á—Ç–æ –≤—Ö–æ–¥–∏—Ç/–Ω–µ –≤—Ö–æ–¥–∏—Ç)

### –ß—Ç–æ –≤—Ö–æ–¥–∏—Ç
- Telegram-–±–æ—Ç.
- –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –ª–∏—Ü–∞ –∏ —Ä–µ—á–∏.
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —ç—Ç–∞–ª–æ–Ω–æ–º.
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö.
- –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è –∏ –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å.

### –ß—Ç–æ –Ω–µ –≤—Ö–æ–¥–∏—Ç
- –ú—É–ª—å—Ç–∏-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞.
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–∏–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–º–∏ –±–∞–∑–∞–º–∏.
- –ì–ª—É–±–æ–∫–∞—è –¥–∏–ø—Ñ–µ–π–∫-–¥–µ—Ç–µ–∫—Ü–∏—è.

---

## 4. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –û–±—â–∞—è —Å—Ö–µ–º–∞
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤–∏–¥–µ–æ –≤ –±–æ—Ç–∞.
2. –ë–æ—Ç ‚Üí Backend ‚Üí –°–µ—Ä–≤–∏—Å—ã:
   - üé≠ –õ–∏—Ü–æ
   - üó£Ô∏è –†–µ—á—å
   - üßæ –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
3. –†–µ–∑—É–ª—å—Ç–∞—Ç —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º ‚Üí Telegram.

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- FastAPI backend  
- PostgreSQL  
- Whisper / FaceNet / ffprobe  
- Docker + MinIO  
- Telegram Bot API

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö
```json
{
  "user_input": "–í–∏–¥–µ–æ —Å –ª–∏—Ü–æ–º –∏ –≥–æ–ª–æ—Å–æ–º",
  "face_match": true,
  "speech_match": false,
  "metadata_valid": true,
  "explanation": "–õ–∏—Ü–æ —Å–æ–≤–ø–∞–¥–∞–µ—Ç, –Ω–æ —Å–∫–∞–∑–∞–Ω–Ω–∞—è —Ñ—Ä–∞–∑–∞ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–∂–∏–¥–∞–µ–º–æ–π. –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—Ç, —á—Ç–æ –∑–∞–ø–∏—Å—å —Å–¥–µ–ª–∞–Ω–∞ –Ω–µ–¥–∞–≤–Ω–æ –Ω–∞ —Å–º–∞—Ä—Ç—Ñ–æ–Ω."
}
```

---

## 5. –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ä–∞–∑–≤–∏—Ç–∏—è

- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–∞–º–∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–ï–°–ò–ê –∏ –¥—Ä.).
- –î–∏–ø—Ñ–µ–π–∫-–¥–µ—Ç–µ–∫—Ü–∏—è (DeepFaceLab, FakeCatcher).
- –í–∏–¥–µ–æ-–∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è –∏ –≤–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å.
- Streamlit dashboard –∏–ª–∏ Telegram inline preview.

---

## 6. –†–æ–ª–∏ –≤ –∫–æ–º–∞–Ω–¥–µ

| –£—á–∞—Å—Ç–Ω–∏–∫ | –†–æ–ª—å |
|----------|------|
| –î–∞—Ä—å—è    | ML-–∏–Ω–∂–µ–Ω–µ—Ä (–ª–∏—Ü–æ) |
| –ê—Ä—Ç—É—Ä    | Backend + ASR (Whisper) |
| –ò–ª—å—è     | –î–∏–ø—Ñ–µ–π–∫ + –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ |
| –ù–∏–∫–∏—Ç–∞   | Scene validation |
| –ò–ª—å—è—Å    | –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ + –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è |

---

## 7. –ü—Ä–∏–Ω—Ü–∏–ø—ã Human-AI Interaction Design (HAIID)

- **Explainability** ‚Äî –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.
- **Mixed-Initiative Interaction** ‚Äî —Å–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ—Ç –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞—Ç—å —É—Ç–æ—á–Ω–µ–Ω–∏—è.
- **User-Centered Design** ‚Äî Telegram-–±–æ—Ç —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º –±–∞—Ä—å–µ—Ä–æ–º –≤—Ö–æ–¥–∞.
- **Human-in-the-Loop Evaluation** ‚Äî —Ä—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ —Å–ø–æ—Ä–Ω—ã—Ö –∫–µ–π—Å–∞—Ö.
- **Fairness & Inclusivity** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–¥–µ–ª–µ–π –Ω–∞ bias.
- **Delegability** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ.
- **Patterns & Guidelines** ‚Äî People+AI Guidebook –æ—Ç Google.

---

## –û—Å–Ω–æ–≤–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞
–î–æ–∫—É–º–µ–Ω—Ç –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ –ø—Ä–∏–Ω—Ü–∏–ø–∞—Ö HCAI, HAIID –∏ best practices –≤ ML-–¥–∏–∑–∞–π–Ω–µ. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–¥–æ—Ö–Ω–æ–≤–ª–µ–Ω–∞ —à–∞–±–ª–æ–Ω–æ–º Reliable ML, –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–∞ –ø–æ–¥ Telegram-–±–æ—Ç Parimate.
